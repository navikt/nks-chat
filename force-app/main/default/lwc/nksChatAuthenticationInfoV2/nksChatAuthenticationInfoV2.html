<template>
    <c-nks-button-container-top
        record-id={recordId}
        channel-name="Chat"
        flow-api-name="NKS_Chat_Set_To_Redaction_v_2"
        flow-button-label={labels.SET_TO_REDACTION_LABEL}
    ></c-nks-button-container-top>
    <div class="slds-var-p-horizontal_medium">
        <template lwc:if={showAuthInfo}>
            <div class="slds-no-flex slds-var-p-top_small">
                <template lwc:if={isLoading}>
                    <div class="slds-var-p-vertical_small">
                        <lightning-spinner size="medium" title={labels.CHAT_GETTING_AUTH_STATUS}> </lightning-spinner>
                    </div>
                </template>
                <template lwc:else>
                    <template lwc:if={authenticationComplete}>
                        <lightning-badge
                            class="slds-theme_success slds-align_absolute-center slds-button_stretch slds-var-p-vertical_small"
                            label={labels.IDENTITY_CONFIRMED_DISCLAIMER}
                        ></lightning-badge>
                    </template>
                    <template lwc:elseif={isAuthenticating}>
                        <lightning-badge
                            class="slds-align_absolute-center slds-button_stretch slds-var-p-vertical_small custom-badge"
                            label={labels.AUTH_STARTED}
                        ></lightning-badge>
                    </template>
                    <template lwc:elseif={sendingAuthRequest}>
                        <lightning-spinner size="medium" title={labels.CHAT_SENDING_AUTH_REQUEST}></lightning-spinner>
                    </template>
                    <template lwc:else>
                        <button
                            class="slds-button slds-button_brand slds-button_stretch slds-var-p-vertical_xx-small custom-button"
                            title={labels.SEND_AUTH_REQUEST}
                            onclick={requestAuthentication}
                        >
                            {labels.SEND_AUTH_REQUEST}
                        </button>
                    </template>
                </template>
            </div>
        </template>
    </div>
</template>
